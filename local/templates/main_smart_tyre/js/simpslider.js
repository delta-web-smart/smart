/*
	author : Pavel A. Hryshayeu
	author's email : gigatrop@gmail.com
	author's site : http://psdvhtml.com
	license : Free, while you keep here all these license strings.
*/

(function(s){s.fn.simpslider=function(a){function v(){if(!e)if(e=!0,!w&&b==t-B)e=!1;else{var a=b;b++;b>t-1&&(b=0);null!==n&&n(b,a);l.removeClass("s");l.eq(b).addClass("s");u?c.animate({left:"-="+q+"px"},j,k,function(){var g=c.find(m+":first");c.append(g);c.css({left:"0"});e=!1;null!==f&&f(b,a)}):c.animate({top:"-="+r+"px"},j,k,function(){var g=c.find(m+":first");c.append(g);c.css({top:"0"});e=!1;null!==f&&f(b,a)})}}function x(){y();p=setInterval(v,C)}function y(){p&&clearInterval(p)}var d=s(this); if("undefined"===typeof a||!1!==a.createStructure){d.prepend('<div class="left"></div><div class="right"></div><ul></ul><div class="mover"></div>');var h=d.find("img");h.appendTo(d.find(".mover"));var z=d.find("ul");h.each(function(){z.append(document.createElement("li"))});z.find("li:first").addClass("s")}h={createStructure:!0,width:d.width(),height:d.height(),mover:d.find(".mover"),left:d.find(".left"),right:d.find(".right"),autoMove:!0,speed:400,easing:"swing",wait:5E3,stopOnHover:!0,dots:d.find("li"), itemsClass:"img",horizontal:!0,countElem:null,doAfter:null,doBefore:null,visibleCount:1,infinit:!0};a=s.extend(h,a);var q=a.width,r=a.height,c=a.mover,h=a.left,D=a.right,A=a.autoMove,j=a.speed,k=a.easing,C=a.wait,E=a.stopOnHover,l=a.dots,m=a.itemsClass,t=a.mover.find(m).length,u=a.horizontal,n=a.doBefore,f=a.doAfter,B=a.visibleCount,w=a.infinit,b=0,e=!1,p;h.click(function(){if(!e)if(e=!0,!w&&0==b)e=!1;else{var a=b;b--;0>b&&(b=t-1);null!==n&&n(b,a);l.removeClass("s");l.eq(b).addClass("s");var g=c.find(m+ ":last");c.prepend(g);u?(c.css({left:"-"+q+"px"}),c.animate({left:"+="+q+"px"},j,k,function(){e=!1;null!==f&&f(b,a)})):(c.css({top:"-"+r+"px"}),c.animate({top:"+="+r+"px"},j,k,function(){e=!1;null!==f&&f(b,a)}))}});D.click(v);l.click(function(){var a=s(this).index();if(!e){e=!0;var g=b;b=a;null!==n&&n(b,g);l.removeClass("s");l.eq(b).addClass("s");var d=b-g;if(0>d){for(var a=-d,h=null,p=0;p<a;p++)h=c.find(m+":eq("+(t-1)+")"),c.prepend(h);u?(c.css("left","-"+q*a+"px"),c.animate({left:"0"},j,k,function(){e= !1;null!==f&&f(b,g)})):(c.css("top","-"+r*a+"px"),c.animate({top:"0"},j,k,function(){e=!1;null!==f&&f(b,g)}))}else u?c.animate({left:"+="+q*(g-b)+"px"},j,k,function(){if(0<d){var a=c.find(m).slice(0,d);c.append(a);c.css("left","0")}e=!1;null!==f&&f(b,g)}):c.animate({top:"+="+r*(g-b)+"px"},j,k,function(){if(0<d){var a=c.find(m).slice(0,d);c.append(a);c.css("top","0")}e=!1;null!==f&&f(b,g)})}});A&&x();A&&E&&(d.mouseenter(y),d.mouseleave(x))}})(jQuery);